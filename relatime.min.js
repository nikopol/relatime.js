// relatime.js 0.2 - relative date time display and update
// https://github.com/nikopol/reltime.js
// niko 2013
var relatime=function(){var h={en:{now:"now",min:{s:"one minute ago",p:"%d minutes ago"},hour:{s:"one hour ago",p:"%d hours ago"},day:{s:"yesterday",p:"%d days ago"},week:{s:"last week",p:"%d weeks ago"},month:{s:"last month",p:"%d months ago"},year:{s:"one year ago",p:"%d years ago"}},fr:{now:"a l'instant",min:{s:"il y a %d minute",p:"il y a %d minutes"},hour:{s:"il y a %d heure",p:"il y a %d heures"},day:{s:"hier",p:"il y a %d jours"},week:{s:"la semaine derni\u00e8re",p:"il y a %d semaines"},month:{s:"le mois dernier",p:"il y a %d mois"},year:{s:"il y a un an",p:"il y a %d ans"}},de:{now:"soeben",min:{s:"vor einer Minute",p:"vor %d Minuten"},hour:{s:"vor einer Stunde",p:"vor %d Stunden"},day:{s:"gestern",p:"vor %d Tagen"},week:{s:"vor einer Woche",p:"vor %d Wochen"},month:{s:"vor einem Monat",p:"vor %d Monaten"},year:{s:"vor einem Jahr",p:"vor %d Jahren"}},es:{now:"ahora mismo",min:{s:"hace un minuto",p:"hace %d minutos"},hour:{s:"hace una hora",p:"hace %d horas"},day:{s:"ayer",p:"hace %d d\u00edas"},week:{s:"hace una semana",
p:"hace %d semanas"},month:{s:"el mes pasado",p:"hace %d meses"},year:{s:"hace un a\u00f1o",p:"hace %d a\u00f1os"}}},f="en",e="time",k="relatime",g=!1,q=!0,l=6E4,r=function(a){a=a instanceof Date?a:new Date(a);return Math.floor(((new Date).getTime()-a.getTime())/1E3)},d=function(a,c){c=Math.round(c);return h[f][a][1<c?"p":"s"].replace("%d",c)},m=function(a,c){var b=c?c:r(a);return 60>b?h[f].now:3600>b?d("min",b/60):86400>b?d("hour",b/3600):604800>b?d("day",b/86400):2592E3>b?d("week",b/604800):31536E3>
b?d("month",b/2592E3):d("year",b/31536E3)},n=function(){var a,c,b=0,d=document.querySelectorAll(e+"."+k);for(console.log("[relatime] refreshing",d.length,"date");b<d.length;){a=d[b];if(c=a.getAttribute("datetime"))a.innerText=m(c);++b}},p=function(a){void 0!=a&&a!=f&&h[a]&&(f=a,setTimeout(n,9));return f};p(navigator.language);return{setup:function(a){a.tag&&(e=a.tag);a.classname&&(k=a.classname);a.locale&&p(a.locale);a.interval&&(l=1E3*a.interval,this.started()&&this.start());void 0!==a.autostart&&
(q=a.autostart);return this},locale:p,start:function(a){a&&this.setup(a);this.stop();500<l&&n();g=setInterval(n,l);return this},started:function(){return!1!==g},stop:function(){!1!==g&&(clearInterval(g),g=!1);return this},text:m,html:function(a){a=a instanceof Date?a:new Date(a);var c=r(a),b=m(a,c);if(2592E3<c)return"<"+e+' title="'+a.toLocaleString()+'">'+b+"</"+e+">";q&&!this.started()&&this.start();return"<"+e+' class="'+k+'" datetime="'+a.toISOString()+'" title="'+a.toLocaleString()+'">'+b+"</"+
e+">"}}}();